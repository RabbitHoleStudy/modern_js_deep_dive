## 변수란 무엇인가? 왜 필요한가?


`10 + 20`과 같은 간단한 연산에서, `10`과 `20`은 각각 별도의 메모리 공간을 가져야 한다(연산을 위해).
한편, 해당하는 결과 값인 `30` 또한 메모리 공간을 가지게 되는데, 이를  직접 액세스하여 사용한면 위험 부담이 따르게된다 - 따라서 JS는 프로그래머가 메모리를 직접적으로 조작하지 않도록 설계되었다(Unmanaged).

→ 이를 위해 고정된 메모리 주소에 해당 값을 참조하도록 할 수 있는 `변수(Variable)`을 이용한다.

---

## 식별자


메모리에 매핑되어 있는 별도의 변수 이름들을 식별자로서 사용할 수 있다. 식별자는 값이 아닌 해당 값을 갖는 메모리의 주소를 가리키고 있다.

→ `메모리상의 어떤 값을 식별할 수 있는 이름은 모두 식별자이다.`

---

## 변수 선언

변수를 생성하면 그것이 변수 선언.

이를 위해 `var`, `let`, `const` 키워드를 사용한다.

자바스크립트 엔진은 선언 - 초기화(undefined로 채움)의 과정을 거친다.

자바스크립트 엔진은 실행 컨텍스트라는 코드 실행 환경 및 관리 영역에서 식별자와 스코프를 관리한다.

### 함수 레벨 스코프

```jsx
var foo = 123; // 전역 변수

console.log(foo); // 123

{
  var foo = 456; // 전역 변수
}

console.log(foo); // 456 <- 우리가 아는 블록 레벨 스코프였다면, 123이었을 것이다.
```

함수 내에서 선언된 변수는 함수 내에서만 유효하며 함수 외부에서는 참조할 수 없다. 즉, **함수 내부에서 선언한 변수는 지역 변수**이며 함수 **외부에서 선언한 변수는 모두 전역 변수**이다.

### 블록 레벨 스코프

```jsx
let foo = 123; // 전역 변수

{
  let foo = 456; // 지역 변수
  let bar = 456; // 지역 변수
}

console.log(foo); // 123
console.log(bar); // ReferenceError: bar is not defined
```

모든 코드 블록(함수, if 문, for 문, while 문, try/catch 문 등) 내에서 선언된 변수는 코드 블록 내에서만 유효하며 코드 블록 외부에서는 참조할 수 없다. 

즉, **코드 블록 내부에서 선언한 변수는 지역 변수**이다.

### 호이스팅

엔진은 소스코드를 실행하기 전에, 소스코드의 평가 과정(`실행 컨텍스트`)를 거친다.

그 이후에 한줄 씩 interpret을 하는데, 이 경우에 변수 선언이 런타임이 아닌 소스코드 평가시에 진행되므로 `var` 키워드를 이용하면, 변수 선언이 나중에 이뤄짐에도 `ReferenceError`가 발생하지 않는, 즉 변수가 끌어 올려진 것 처럼 사용되는 `변수 호이스팅`이 발생한다. ← **모든 선언문은 런타임 이전 단계에서 먼저 실행된다.**

```jsx
console.log(score); // undefined. ReferenceError가 발생하지 않는다.

var score;
```

한편 값의 할당은 런타임에 실행된다.

```jsx
console.log(score); // undefined

var score;
score = 80;

console.log(score); // 80
```


자바스크립트에서 `var score = 80`와 같이 선언과 동시에 할당을 하더라도, 두개의 문으로 나눠서 해당 변수 선언 및 할당을 진행한다.


재할당시에는 새로운 메모리에 얹는다. (아마도 JS의 특성인 변수에 모든 타입을 넣을 수 있음 - 덕타이핑 때문이 아닐까..?)
